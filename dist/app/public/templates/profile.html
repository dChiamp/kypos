<!-- <span>your name is {{auth.profile.nickname}}</span>
<h1>Test</h1> -->

<div ng-controller="MainController as main">
  <h3>{{main.currentUser.displayName}}</h3>
  <hr>
  <p><strong>Email:</strong> {{main.currentUser().email}}</p>
  <p><strong>Username:</strong> {{main.currentUser().username}}</p>
  <p><strong>Joined:</strong> {{main.currentUser().created | date:'MMMM dd, yyyy'}}</p>
  <p><strong>Gardens:</strong> {{main.currentUser().gardens[0].name}}</p>
</div>

<div ng-controller="UserController">
  <div ng-init="getUser()">
    
  </div>
  
</div>

<!-- edit profile -->
<hr>
<a href="#" ng-click="profile.showEditForm=true" ng-hide="profile.showEditForm" class="btn btn-default"><i class="fa fa-pencil"></i> Edit Profile</a>


<div ng-show="profile.showEditForm" >
  <form ng-submit="profile.updateProfile()">
    <div class="form-group">
      <input type="text" class="form-control" placeholder="Full Name"
        ng-model="profile.new_profile.displayName"
          ng-value="main.currentUser().displayName">
    </div>
    <div class="form-group">
      <input type="text" class="form-control" placeholder="Username"
        ng-model="profile.new_profile.username"
          ng-value="main.currentUser().username">
    </div>
    <div class="form-group">
      <input type="text" class="form-control" placeholder="Email"
        ng-model="profile.new_profile.email"
          ng-value="main.currentUser().email">
    </div>
    <input type="submit" value="Done!" class="btn btn-success">&nbsp;
  </form>
  <button ng-click="profile.showEditForm=false" class="btn btn-danger">Cancel</button>
</div>


<h1></h1>

<!-- <button class="btn btn-danger" ng-click="profile.getUserInfo()">DO NOT PRESS!</button> -->

<hr>
<!-- post garden -->
<div ng-controller="GardensController as gc">
  <a href="#" ng-click="gc.showEditForm=true" ng-hide="gc.showEditForm" class="btn btn-default"><i class="fa fa-pencil"></i> Post Garden</a>

  <div ng-show="gc.showEditForm"> 
    <form ng-submit="gc.addGarden()">
      <div class="form-group">
       <input type="text" ng-model="gc.newGarden.name" placeholder="name">
      </div>
      <div class="form-group">
        <input type="text" ng-model="gc.newGarden.description" placeholder="description">
      </div>
      <div class="form-group">
       <input type="text" ng-model="gc.newGarden.address" placeholder="address">
      </div>
      <input type="submit" value="Done!" class="btn btn-success">&nbsp;
    </form>
    <button ng-click="gc.showEditForm=false" class="btn btn-danger">Cancel</button>
  </div>

  <h3>Get geocode from address</h3>
  <form ng-submit="gc.postYourGarden()" >
    <div class="form-group">
      <input type="text" ng-model="gc.newGarden.name" placeholder="name">
    </div>
    <div class="form-group">
      <input type="text" ng-model="gc.newGarden.address" placeholder="GEOCODE address">
    </div>
    <input type="submit" value="test!" class="btn btn-success">&nbsp;
  </form>

  <h3> post garden and add its id to your prof</h3>
    <form ng-submit="gc.postYourGardenAddIdToProf()" >
    <div class="form-group">
      <input type="text" ng-model="gc.newGarden.name" placeholder="name">
    </div>
    <div class="form-group">
      <input type="text" ng-model="gc.newGarden.description" placeholder="description">
    </div>
    <input type="submit" value="test!" class="btn btn-success">&nbsp;
  </form>

</div>

<div ng-controller="UserController as uc">
  <button ng-click="uc.doesGardenBelongToUser()" class="btn"> get user info </button>
</div>
