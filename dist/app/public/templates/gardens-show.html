<div ng-init="gc.getGarden()">
<!-- <div class="row"> -->
  <div class="col-md-6 col-md-offset-3">

        <!-- {{test}} -->
          <!-- <h1>Garden Details</h1> -->
            <h1> {{garden.name}} </h1>
      <div id="garden-title"> 
        <div> 
            <h4> Details: </h4>
          <ul>
            <li> Address: {{garden.address}} </li>
            <li> Description: {{garden.description}} </li>
          </ul>

            <h5> Gardeners: </h5>
          <div ng-repeat="gardener in garden.gardeners"> 
            <ul>
                <li> <a ng-href='/user/{{gardener._id}}'> <p> {{gardener.username}}  </p> </a> </li>
            </ul>
          </div>  

        </div>
      </div>
    <!-- </div> -->
    <!-- {{garden}} -->
  <br>
  <hr>

    <div ng-controller="PostsController as pc">

      <h3>Message Board</h3>

      <div id="post-container" ng-repeat="p in pc.all track by $index">
        <p> Title: {{p.title}}</p>
        <p> Content: {{p.content}} </p>
        <p> Author: <a ng-href="/user/{{p.author[0]._id}}">{{p.author[0].username}} </a> </p>
        <!-- <p> deletable?: </p> -->
        <div ng-if="msg.deletable"> 
            <button class="btn btn-danger" ng-click="pc.deletePost(p)"> delete</button> 
        </div>
      </div>

        <a href="#" ng-click="pc.showEditForm=true" ng-hide="pc.showEditForm" class="btn btn-warning"><i class="fa fa-pencil"></i> Post a Message</a>

      <div id="msg-container" ng-show="pc.showEditForm">
          <form ng-submit="pc.newPost()">
            <p> Post a Message to Connect</p>
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Title"
                ng-model="pc.newMessage.title">
            </div>
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Content"
                ng-model="pc.newMessage.content">
            </div>
            <input type="submit" value="Send Message" class="btn btn-success">&nbsp;
          </form>
          <button ng-click="pc.showEditForm=false" class="btn btn-danger">Cancel</button>
      </div>
    </div>
    <hr>

    <div ng-init="gc.isUserMemberOfGarden()">
      
      <div ng-if="canJoinGarden">
        <button class='btn btn-info' ng-click="gc.joinGarden(garden)"> Join This Garden </button>
      </div>

      <div ng-if="canUnjoinGarden">
        <button class='btn btn-info' ng-click="gc.unjoinGarden(garden)"> unJoin This Garden </button>
      </div>

    </div>

  <br>
  <hr>
    <div ng-init="gc.doesGardenBelongToUser()">

      <div ng-if="isEditable">

        <a href="#" ng-click="gc.showEditForm=true" ng-hide="gc.showEditForm" class="btn btn-warning"><i class="fa fa-pencil"></i> Edit Garden</a>

        <form ng-show="gc.showEditForm" ng-submit="gc.updateGarden(garden)">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="name"
              ng-model="garden.name">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Address"
              ng-model="garden.address">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Description"
              ng-model="garden.description">
          </div>
          <input type="submit" value="Edit Garden" class="btn btn-info">&nbsp;
          <button ng-click="gc.showEditForm=false" class="btn btn-success">OK</button>
        </form>

        <button class='btn btn-danger' ng-click="gc.deleteGarden(garden)"> Delete </button>

      </div>

    </div>

  </div>
</div>

<div id="gallery-row-1" ng-controller="CardsController" ng-cloak="" >
  <md-content class="md-padding" layout-xs="column" layout="row">
    <div flex-xs="" flex-gt-xs="33" flex-gt-md="35" layout="column">
      <md-card>
        <img ng-src="{{imagePath}}" class="md-card-image" alt="Washed Out">
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline">{{garden.name}}</span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>

          <h4> Details: </h4>
          <ul>
            <li> Address: {{garden.address}} </li>
            <li> Description: {{garden.description}} </li>
          </ul>

        </md-card-content>
        <md-card-actions layout="row" layout-align="end center">
          <md-button class="md-icon-button" aria-label="edit">
            <i class="fa fa-pencil-square-o fa-2x" aria-hidden="true"></i>
          </md-button>
          <md-button class="md-icon-button" aria-label="favorite">
            <i class="fa fa-heart fa-2x" aria-hidden="true"></i>
          </md-button>
          <md-button class="md-icon-button" aria-label="Message">
            <i class="fa fa-envelope-o fa-2x" aria-hidden="true"></i>
          </md-button>
        </md-card-actions>
      </md-card>
    </div>
  </md-content>
</div>
